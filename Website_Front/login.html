<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="scss/login.css">
    <!-- Firebase App is always required and must be first -->
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-app.js"></script>

    <!-- Add additional services that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-functions.js"></script>
    <script src="../utils.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="js/login.js"></script>
    <script src="js/user.js"></script>
    <title></title>
</head>

<body>
<script>
    // Initialize Firebase
    // TODO: Replace with your project's customized code snippet
    var config = {
        apiKey: "AIzaSyAQFwlKzWWjfxtw6-7QSLbcgtkmoXuMiq4",
        authDomain: "treehack-e780a.firebaseapp.com",
        databaseURL: "https://treehack-e780a.firebaseio.com",
        projectId: "treehack-e780a",
        storageBucket: "treehack-e780a.appspot.com",
        messagingSenderId: "22555346969",
    };
    firebase.initializeApp(config);

    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION)
        .then(function () {
            // Existing and future Auth states are now persisted in the current
            // session only. Closing the window would clear any existing state even
            // if a user forgets to sign out.
            // ...
            // New sign-in will be persisted with session persistence.
            return firebase.auth().signInWithEmailAndPassword(email, password);
        })
        .catch(function (error) {
            // Handle Errors here.
            var errorCode = error.code;
            var errorMessage = error.message;
        });

    firebase.auth().onAuthStateChanged(function (user) {
        if (user) {
            // User is signed in.
            window.open("../groupPage.html")
        } else {
            // No user is signed in.
        }
    });
</script>
<div id="box">
    <div id="main"></div>

    <div id="loginform">
        <h1>LOGIN</h1>
        <input type="email" placeholder="Email"/><br>
        <input type="password" placeholder="Password"/><br>
        <button id="user_login_button">LOGIN</button>
    </div>

    <div id="signupform">
        <h1>SIGN UP</h1>
        <input type="name" placeholder="Full Name"/><br>
        <input type="SID" placeholder="Student ID"/><br>
        <input type="email" placeholder="Email"/><br>
        <input type="password" placeholder="Password"/><br>
        <button id="user_signup_button">SIGN UP</button>
    </div>

    <div id="login_msg">Have an Account?</div>
    <div id="signup_msg">Don't have an Account?</div>
    <button id="login_btn">Login</button>
    <button id="signup_btn">Sign Up</button>
</div>
</body>
</html>